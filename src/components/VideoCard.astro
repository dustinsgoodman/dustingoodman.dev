---
import type { CollectionEntry } from 'astro:content';
import { formatDate } from '@/utils/date';

export interface Props {
	video: CollectionEntry<'videos'>;
}

const { video } = Astro.props;
const { title, date, description, link, embed, event } = video.data;
---

<a href={link} target="_blank" class="hover:no-underline">
	<article
		class="rounded-lg border bg-white hover:bg-slate-100 text-gray-900 shadow-sm w-[33.33vw] max-w-screen-sm h-full"
	>
		<div class="flex flex-col space-y-1.5 p-6">
			<iframe
				width="400"
				height="300"
				src={embed}
				title={title}
				allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
				allowfullscreen
				class="w-full h-60 object-cover"
				style="aspect-ratio:4/3;object-fit:cover"
			>
			</iframe>
		</div>
		<div class="px-6 pb-6">
			<p class="text-sm text-gray-500">
				{formatDate(date)}
				{event && <Fragment>- {event}</Fragment>}
			</p>
			<h3 class="text-xl font-semibold my-2">{title}</h3>
			<p class="text-gray-700">
				{description}
			</p>
		</div>
	</article>
</a>
