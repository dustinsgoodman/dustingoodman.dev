---
import BaseLayout from '../layouts/base.astro';
import HeroBanner from '../components/HeroBanner.astro';
import BlogPostPreview from '../components/BlogPostPreview.astro';

import Button from '../components/Button/index.jsx';
import PortfolioPreview from '../components/PortfolioPreview/index.jsx';

// Data Fetching: List all Markdown posts in the repo.
const projects = Astro.fetchContent("./project/**/*.md");
const featuredProject = projects[0];

const posts = Astro.fetchContent("./blog/**/*.md");
const featuredPost = posts[0];

// Full Astro Component Syntax:
// https://docs.astro.build/core-concepts/astro-components/
---
<BaseLayout
  title="Welcome | Dustin Goodman"
  description="Dustin Goodman: Developer, Speaker, and Writer..."
  enableWrapper={false}
>
  <HeroBanner />
  <div class="container mx-auto mt-2 mb-4">
    <section>
      <h3 class="mt-16 mb-8">
        About me
      </h3>
      <p class="leading-loose mb-8">
        Iâ€™m Dustin, and this is my website. It was made using{' '}
        <a href="https://github.com/withastro/astro" target="_blank" rel="nofollow">
          Astro
        </a>, a new way to build static sites. This is just an example template for you to modify.
      </p>
      <p>
        <a href="/about">Read more</a>
      </p>
    </section>

    <section>
      <h3 class="mt-16 mb-8">
        Highlighted Projects
      </h3>
      <PortfolioPreview project={featuredProject} />
      <div class="text-center mt-4">
        <a href="/projects">
          <Button>View All</Button>
        </a>
      </div>
    </section>

    <section>
      <h3 class="mt-16 mb-8">
        Recent Posts
      </h3>
      <BlogPostPreview post={featuredPost} />
      <div class="text-center mt-4">
        <a href="/blog">
          <Button>View All</Button>
        </a>
      </div>
    </section>
  </div>
</BaseLayout>
